{"ast":null,"code":"var _jsxFileName = \"/Users/flatironstudentaccount/Development/Module-4/mod_4_project/Front-End/src/DrawingBoard.js\";\nimport React from \"react\";\nimport socketIOClient from 'socket.io-client';\nconst socket = socketIOClient('http://10.185.2.208:8080');\n\nclass DrawingBoard extends React.Component {\n  constructor() {\n    super();\n\n    this.mouseDown = () => {\n      this.setState({\n        drawing: true\n      });\n    };\n\n    this.mouseUp = () => {\n      this.setState({\n        drawing: false\n      });\n    };\n\n    this.mouseMove = e => {\n      let drawingboard = document.getElementById('drawingboard');\n      let pos = this.getPosition(drawingboard, e);\n      let posX = pos.x;\n      let posY = pos.y;\n      this.draw(this.drawingboard, posX, posY);\n      this.setState({\n        drawingboard: drawingboard\n      });\n\n      if (this.state.drawing) {\n        socket.emit('drawing', posX, posY);\n      } //console.log(this.state.drawingboard)\n\n    };\n\n    this.getPosition = (canvas, event) => {\n      let drawingboard = document.getElementById('drawingboard');\n      let rect = drawingboard.getBoundingClientRect();\n      return {\n        x: event.clientX - rect.left,\n        y: event.clientY - rect.top\n      };\n    };\n\n    this.draw = (canvas, x, y) => {\n      let drawingboard = document.getElementById('drawingboard');\n      let context = drawingboard.getContext(\"2d\");\n\n      if (this.state.drawing) {\n        context.fillRect(x, y, 5, 5);\n        socket.emit('drawing', context.canvas.height, context.canvas.width);\n      }\n    };\n\n    this.onButtonPress = (handle, text) => {\n      // debugger\n      socket.emit(\"chat\", {\n        message: text,\n        handle: handle\n      });\n    };\n\n    this.onTyping = handle => {\n      socket.emit('typing', handle);\n    };\n\n    this.state = {\n      displayText: \"\",\n      feedbackText: \"\",\n      id: null,\n      drawing: false,\n      cleared: false,\n      username: null,\n      userList: [],\n      drawingboard: null,\n      canvasX: null,\n      canvasY: null\n    };\n  }\n\n  // onDrawing = (drawing) => {\n  //   console.log(drawing)\n  //   socket.emit('drawing', drawing)\n  // }\n  componentDidMount() {\n    console.log(\"component did mount\"); //listen for events\n\n    socket.on(\"chat\", data => {\n      this.setState({\n        displayText: \"\".concat(data.handle, \": \").concat(data.message),\n        feedbackText: \"\"\n      });\n    });\n    socket.on('typing', data => {\n      this.setState({\n        feedbackText: \"\".concat(data, \" is typing a message\")\n      });\n    });\n    socket.on('drawing', (x, y) => {\n      let canvas = document.getElementById(\"drawingboard\");\n      let drawingboard = document.getElementById('drawingboard');\n      let context = drawingboard.getContext(\"2d\");\n      console.log(x);\n      context.fillRect(x, y, 5, 5); // this.setState({\n      //   drawingboard: data\n      // })\n    });\n  }\n\n  render() {\n    return React.createElement(\"canvas\", {\n      id: \"drawingboard\",\n      onMouseDown: this.mouseDown,\n      onMouseUp: this.mouseUp,\n      onMouseMove: e => this.mouseMove(e),\n      width: \"1000\",\n      height: \"700\",\n      ref: this.drawingboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default DrawingBoard;","map":{"version":3,"sources":["/Users/flatironstudentaccount/Development/Module-4/mod_4_project/Front-End/src/DrawingBoard.js"],"names":["React","socketIOClient","socket","DrawingBoard","Component","constructor","mouseDown","setState","drawing","mouseUp","mouseMove","e","drawingboard","document","getElementById","pos","getPosition","posX","x","posY","y","draw","state","emit","canvas","event","rect","getBoundingClientRect","clientX","left","clientY","top","context","getContext","fillRect","height","width","onButtonPress","handle","text","message","onTyping","displayText","feedbackText","id","cleared","username","userList","canvasX","canvasY","componentDidMount","console","log","on","data","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport socketIOClient from 'socket.io-client'\n\nconst socket = socketIOClient('http://10.185.2.208:8080')\n\nclass DrawingBoard extends React.Component {\n  constructor(){\n    super()\n    this.state = {\n      displayText: \"\",\n      feedbackText: \"\",\n      id: null,\n      drawing: false,\n      cleared: false,\n      username: null,\n      userList: [],\n      drawingboard: null,\n      canvasX: null,\n      canvasY: null\n    }\n\n  }\n\n  mouseDown = () => {\n    this.setState({\n      drawing: true\n    })\n  }\n\n  mouseUp = () => {\n    this.setState({\n      drawing: false\n    })\n  }\n\n  mouseMove = (e) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let pos = this.getPosition(drawingboard, e);\n    let posX = pos.x;\n    let posY = pos.y;\n    this.draw(this.drawingboard, posX, posY)\n    this.setState({\n      drawingboard: drawingboard\n    })\n    if(this.state.drawing) {socket.emit('drawing', posX, posY)}\n    //console.log(this.state.drawingboard)\n  }\n\n  getPosition = (canvas, event) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let rect = drawingboard.getBoundingClientRect();\n    return {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n\n  }\n\n  draw = (canvas, x, y) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let context = drawingboard.getContext(\"2d\")\n    if(this.state.drawing) {\n      context.fillRect(x, y, 5, 5)\n      \n      socket.emit('drawing', context.canvas.height, context.canvas.width)\n      \n    }\n    \n\n  }\n\n   // emit events\n onButtonPress = (handle, text) => {\n  // debugger\n  socket.emit(\"chat\", {\n    message: text,\n    handle: handle\n  })\n}\n\nonTyping = (handle) => {\n  socket.emit('typing', handle)\n}\n\n// onDrawing = (drawing) => {\n//   console.log(drawing)\n//   socket.emit('drawing', drawing)\n// }\n\n  componentDidMount() {\n    console.log(\"component did mount\")\n  \n    //listen for events\n    socket.on(\"chat\", data => {\n      this.setState({\n        displayText: `${data.handle}: ${data.message}`,\n        feedbackText: \"\"\n      })\n    })\n  \n    socket.on('typing', data => {\n      this.setState({\n        feedbackText: `${data} is typing a message`\n  \n        })\n    })\n  \n    socket.on('drawing', (x, y) => {\n      let canvas = document.getElementById(\"drawingboard\")\n      let drawingboard = document.getElementById('drawingboard')\n      let context = drawingboard.getContext(\"2d\")\n      console.log(x)\n      context.fillRect(x, y, 5, 5)\n      \n      // this.setState({\n      //   drawingboard: data\n      // })\n    })\n  }\n\n  render() {\n    return (\n      <canvas id={\"drawingboard\"}\n              onMouseDown={this.mouseDown}\n              onMouseUp={this.mouseUp}\n              onMouseMove={(e) => this.mouseMove(e)}\n              width=\"1000\"\n              height=\"700\"\n              ref={this.drawingboard}\n              />\n\n    )\n  }\n\n\n}\nexport default DrawingBoard;\n"]},"metadata":{},"sourceType":"module"}