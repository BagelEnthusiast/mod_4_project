{"ast":null,"code":"var _jsxFileName = \"/Users/flatironstudentaccount/Development/Module-4/mod_4_project/Front-End/src/DrawingBoard.js\";\nimport React from \"react\";\nimport socketIOClient from 'socket.io-client';\nconst socket = socketIOClient('http://10.185.2.208:8080');\n\nclass DrawingBoard extends React.Component {\n  constructor() {\n    super();\n\n    this.mouseDown = () => {\n      this.setState({\n        drawing: true\n      });\n    };\n\n    this.mouseUp = () => {\n      this.setState({\n        drawing: false\n      });\n    };\n\n    this.mouseMove = e => {\n      let drawingboard = document.getElementById('drawingboard');\n      let pos = this.getPosition(drawingboard, e);\n      let posX = pos.x;\n      let posY = pos.y;\n      this.draw(this.drawingboard, posX, posY);\n      this.setState({\n        drawingboard: drawingboard\n      });\n      console.log(this.state.drawingboard);\n    };\n\n    this.getPosition = (canvas, event) => {\n      let drawingboard = document.getElementById('drawingboard');\n      let rect = drawingboard.getBoundingClientRect();\n      return {\n        x: event.clientX - rect.left,\n        y: event.clientY - rect.top\n      };\n    };\n\n    this.draw = (canvas, x, y) => {\n      let drawingboard = document.getElementById('drawingboard');\n      let context = drawingboard.getContext(\"2d\");\n\n      if (this.state.drawing) {\n        context.fillRect(x, y, 5, 5);\n        socket.emit('drawing', context.canvas);\n      }\n    };\n\n    this.onButtonPress = (handle, text) => {\n      // debugger\n      socket.emit(\"chat\", {\n        message: text,\n        handle: handle\n      });\n    };\n\n    this.onTyping = handle => {\n      socket.emit('typing', handle);\n    };\n\n    this.state = {\n      displayText: \"\",\n      feedbackText: \"\",\n      id: null,\n      drawing: false,\n      cleared: false,\n      username: null,\n      userList: [],\n      drawingboard: null\n    };\n  }\n\n  // onDrawing = (drawing) => {\n  //   console.log(drawing)\n  //   socket.emit('drawing', drawing)\n  // }\n  componentDidMount() {\n    console.log(\"component did mount\"); //listen for events\n\n    socket.on(\"chat\", data => {\n      this.setState({\n        displayText: \"\".concat(data.handle, \": \").concat(data.message),\n        feedbackText: \"\"\n      });\n    });\n    socket.on('typing', data => {\n      this.setState({\n        feedbackText: \"\".concat(data, \" is typing a message\")\n      });\n    });\n    socket.on('drawing', data => {\n      this.setState({\n        drawingboard: data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"canvas\", {\n      id: \"drawingboard\",\n      onMouseDown: this.mouseDown,\n      onMouseUp: this.mouseUp,\n      onMouseMove: e => this.mouseMove(e),\n      width: \"1000\",\n      height: \"700\",\n      ref: this.drawingboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default DrawingBoard;","map":{"version":3,"sources":["/Users/flatironstudentaccount/Development/Module-4/mod_4_project/Front-End/src/DrawingBoard.js"],"names":["React","socketIOClient","socket","DrawingBoard","Component","constructor","mouseDown","setState","drawing","mouseUp","mouseMove","e","drawingboard","document","getElementById","pos","getPosition","posX","x","posY","y","draw","console","log","state","canvas","event","rect","getBoundingClientRect","clientX","left","clientY","top","context","getContext","fillRect","emit","onButtonPress","handle","text","message","onTyping","displayText","feedbackText","id","cleared","username","userList","componentDidMount","on","data","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport socketIOClient from 'socket.io-client'\n\nconst socket = socketIOClient('http://10.185.2.208:8080')\n\nclass DrawingBoard extends React.Component {\n  constructor(){\n    super()\n    this.state = {\n      displayText: \"\",\n      feedbackText: \"\",\n      id: null,\n      drawing: false,\n      cleared: false,\n      username: null,\n      userList: [],\n      drawingboard: null\n    }\n\n  }\n\n  mouseDown = () => {\n    this.setState({\n      drawing: true\n    })\n  }\n\n  mouseUp = () => {\n    this.setState({\n      drawing: false\n    })\n  }\n\n  mouseMove = (e) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let pos = this.getPosition(drawingboard, e);\n    let posX = pos.x;\n    let posY = pos.y;\n    this.draw(this.drawingboard, posX, posY)\n    this.setState({\n      drawingboard: drawingboard\n    })\n    console.log(this.state.drawingboard)\n  }\n\n  getPosition = (canvas, event) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let rect = drawingboard.getBoundingClientRect();\n    return {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n\n  }\n\n  draw = (canvas, x, y) => {\n    let drawingboard = document.getElementById('drawingboard')\n    let context = drawingboard.getContext(\"2d\")\n    if(this.state.drawing) {\n      context.fillRect(x, y, 5, 5)\n      \n      socket.emit('drawing', context.canvas)\n      \n    }\n    \n\n  }\n\n   // emit events\n onButtonPress = (handle, text) => {\n  // debugger\n  socket.emit(\"chat\", {\n    message: text,\n    handle: handle\n  })\n}\n\nonTyping = (handle) => {\n  socket.emit('typing', handle)\n}\n\n// onDrawing = (drawing) => {\n//   console.log(drawing)\n//   socket.emit('drawing', drawing)\n// }\n\n  componentDidMount() {\n    console.log(\"component did mount\")\n  \n    //listen for events\n    socket.on(\"chat\", data => {\n      this.setState({\n        displayText: `${data.handle}: ${data.message}`,\n        feedbackText: \"\"\n      })\n    })\n  \n    socket.on('typing', data => {\n      this.setState({\n        feedbackText: `${data} is typing a message`\n  \n        })\n    })\n  \n    socket.on('drawing', data => {\n      \n      \n      this.setState({\n        drawingboard: data\n      })\n    })\n  }\n\n  render() {\n    return (\n      <canvas id={\"drawingboard\"}\n              onMouseDown={this.mouseDown}\n              onMouseUp={this.mouseUp}\n              onMouseMove={(e) => this.mouseMove(e)}\n              width=\"1000\"\n              height=\"700\"\n              ref={this.drawingboard}\n              />\n\n    )\n  }\n\n\n}\nexport default DrawingBoard;\n"]},"metadata":{},"sourceType":"module"}